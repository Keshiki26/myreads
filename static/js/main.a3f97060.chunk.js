(this.webpackJsonpmyreads=this.webpackJsonpmyreads||[]).push([[0],{142:function(e,t,n){},149:function(e,t,n){"use strict";n.r(t);var s=n(2),a=n(0),o=n(51),r=n.n(o),c=n(26),i=n(27),h=n(30),l=n(28),u=(n(142),n(74)),d=n(158),b=[{key:"move",text:Object(s.jsxs)("span",{children:[Object(s.jsx)("strong",{children:"Move"})," to..."]}),disabled:!0},{value:"currentlyReading",text:"Currently Reading"},{value:"wantToRead",text:"Want to Read"},{value:"read",text:"Read"},{value:"none",text:"None"}],j=function(e){Object(h.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).handleChange=function(t,n){var s=n.book,a=n.value;a!==s&&e.props.updateBooks(s,a)},e.titleShow=function(){if(e.props.books.length>0)return Object(s.jsx)("h3",{className:"ui block header",children:e.props.title})},e}return Object(i.a)(n,[{key:"render",value:function(){var e=this;return Object(s.jsxs)("div",{className:"shelfs ui",children:[this.titleShow(),Object(s.jsx)("div",{className:"shelf ui",children:this.props.books.map((function(t,n){return Object(s.jsxs)("div",{className:"shelf-book ui",children:[Object(s.jsxs)("div",{className:"book-settings",children:[Object(s.jsx)("img",{className:"",src:t.imageLinks.thumbnail,alt:t.title}),Object(s.jsx)(u.a,{name:"big",className:"circle-book-menu",options:b,trigger:Object(s.jsx)("div",{}),children:Object(s.jsx)(d.a,{icon:"caret down",trigger:Object(s.jsx)("a",{}),book:t,onChange:e.handleChange,defaultValue:b[e.props.dv].value,className:"DropDownSemantic",options:b})})]}),Object(s.jsx)("p",{children:t.title},n)]})}))})]})}}]),n}(a.Component),p=n(32),f=function(e){Object(h.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(c.a)(this,n);for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={currentlyReading:[],wantToRead:[],read:[]},e}return Object(i.a)(n,[{key:"componentDidUpdate",value:function(e){this.props.books!==e.books&&(this.setState({currentlyReading:this.props.books.filter((function(e){return"currentlyReading"===e.shelf}))}),this.setState({wantToRead:this.props.books.filter((function(e){return"wantToRead"===e.shelf}))}),this.setState({read:this.props.books.filter((function(e){return"read"===e.shelf}))})),console.log("currently reading: ".concat(this.state.currentlyReading.length)),console.log("want to read: ".concat(this.state.wantToRead.length)),console.log("read: ".concat(this.state.read.length))}},{key:"render",value:function(){return Object(s.jsxs)("div",{className:"ui inverted segment",children:[Object(s.jsxs)("div",{className:"ui inverted secondary menu",children:[Object(s.jsxs)(p.b,{to:"/",className:"active red item",children:[Object(s.jsx)("i",{className:"large book icon"}),"MyBooks"]}),Object(s.jsx)("div",{className:"right menu",children:Object(s.jsxs)(p.b,{to:"/search",className:"item",children:[Object(s.jsx)("i",{className:"large search icon"}),"Search"]})})]}),Object(s.jsx)(j,{dv:1,updateBooks:this.props.updateBooks,books:this.state.currentlyReading,title:"Currently Reading"}),Object(s.jsx)(j,{dv:2,updateBooks:this.props.updateBooks,books:this.state.wantToRead,title:"Want To Read"}),Object(s.jsx)(j,{dv:3,updateBooks:this.props.updateBooks,books:this.state.read,title:"Read"})]})}}]),n}(a.Component),m=n(78),O="https://reactnd-books-api.udacity.com",k=localStorage.token;k||(k=localStorage.token=Math.random().toString(37).substr(-8));var v={Accept:"application/json",Authorization:k},g=function(){return fetch("".concat(O,"/books"),{headers:v}).then((function(e){return e.json()})).then((function(e){return e.books}))},x=function(e,t){return fetch("".concat(O,"/books/").concat(e.id),{method:"PUT",headers:Object(m.a)(Object(m.a)({},v),{},{"Content-Type":"application/json"}),body:JSON.stringify({shelf:t})}).then((function(e){return e.json()}))},y=function(e){return fetch("".concat(O,"/search"),{method:"POST",headers:Object(m.a)(Object(m.a)({},v),{},{"Content-Type":"application/json"}),body:JSON.stringify({query:e})}).then((function(e){return e.json()})).then((function(e){return e.books}))},S=function(e){Object(h.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(c.a)(this,n);for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).handleChange=function(t){e.props.searchChange(t.target.value)},e.handleSubmit=function(t){t.preventDefault(),console.log(e.props.term),e.props.bookSearch()},e}return Object(i.a)(n,[{key:"render",value:function(){return Object(s.jsx)("div",{className:"ui segment inverted ",children:Object(s.jsxs)("form",{className:"ui form",onSubmit:this.handleSubmit,children:[Object(s.jsx)("label",{for:"searchTerm",children:Object(s.jsx)("b",{children:"Book Search"})}),Object(s.jsxs)("div",{className:"ui fluid icon input",children:[Object(s.jsx)("input",{type:"text",placeholder:"Search...",value:this.props.term,id:"searchTerm",onChange:this.handleChange}),Object(s.jsx)("i",{className:"search icon"})]})]})})}}]),n}(a.Component),N=n(159),R=function(e){Object(h.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(c.a)(this,n);for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={searchTerm:"",books:[]},e.controlSearchChange=function(t){e.setState({searchTerm:t})},e.submitBookSearch=function(){e.props.bookSearch(e.state.searchTerm)},e}return Object(i.a)(n,[{key:"componentDidUpdate",value:function(e){this.props.books!==e.books&&this.setState({books:this.props.books})}},{key:"render",value:function(){return Object(s.jsxs)("div",{className:"ui segment",children:[Object(s.jsx)("div",{className:"ui",children:Object(s.jsx)(p.b,{to:"/",className:"active red white  item",children:Object(s.jsxs)(N.a,{animated:!0,inverted:!0,color:"red",children:[Object(s.jsxs)(N.a.Content,{hidden:!0,children:[Object(s.jsx)(u.a,{name:"arrow left"}),"My Books"]}),Object(s.jsxs)(N.a.Content,{visible:!0,children:[Object(s.jsx)(u.a,{name:"arrow left"}),"My Books"]})]})})}),Object(s.jsxs)("div",{className:"ui inverted segment",children:[Object(s.jsx)(S,{bookSearch:this.submitBookSearch,term:this.state.searchTerm,searchChange:this.controlSearchChange}),"notfound"==this.props.searching&&Object(s.jsxs)("div",{class:"ui error message",children:[Object(s.jsx)("div",{class:"header",children:"No Books Found!"}),Object(s.jsx)("p",{children:"Please try a different search term."})]}),Object(s.jsx)(j,{dv:4,updateBooks:this.props.updateBooks,books:this.state.books,title:"Results"})]})]})}}]),n}(a.Component),w=n(10),C=function(e){Object(h.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(c.a)(this,n);for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={books:[],searchResults:[],searching:"not"},e.componentDidMount=function(){g().then((function(t){e.setState({books:t})}))},e.componentDidUpdate=function(){g().then((function(t){e.setState({books:t})}))},e.bookUpdate=function(e,t){x(e,t)},e.bookSearch=function(t){y(t).then((function(t){t.error?e.setState({searchResults:[],searching:"notfound"}):e.setState({searchResults:t,searching:"found"})}))},e}return Object(i.a)(n,[{key:"render",value:function(){var e=this;return Object(s.jsxs)("div",{className:"ui container",children:[Object(s.jsx)(w.a,{exact:!0,path:"/",render:function(){return Object(s.jsx)(f,{updateBooks:e.bookUpdate,books:e.state.books})}}),Object(s.jsx)(w.a,{path:"/search",render:function(){return Object(s.jsx)(R,{searching:e.state.searching,updateBooks:e.bookUpdate,bookSearch:e.bookSearch,books:e.state.searchResults})}})]})}}]),n}(a.Component);r.a.render(Object(s.jsx)(p.a,{children:Object(s.jsx)(C,{})}),document.querySelector("#root"))}},[[149,1,2]]]);
//# sourceMappingURL=main.a3f97060.chunk.js.map